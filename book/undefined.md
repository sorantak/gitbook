# 대규모 시스템 설계 기초

가상 면접 사례로 배우는 대규모 시스템 설계 기초 (System Design Interview)

[https://www.yes24.com/Product/Goods/102819435](https://www.yes24.com/Product/Goods/102819435)



1. 사용자 수에 따른 규모 확장성

* 웹 서버 + DNS
* 웹 서버 + DNS + **데이터베이스**
* **scale up** vs **scale out**
  * scale up: 수직적 확장. CPU, RAM 등 자원을 늘림
  * scale out: 수평적 확장. 서버 대수를 늘림
  * 한 서버의 자원은 유한하기 때문에 한계가 있다. 또한 아무리 scale up을 해도 서버가 죽으면 아예 서비스 제공이 불가능해지기 때문에 scale out이 보다 적절하다.
* 웹 서버 + DNS + 데이터베이스 + **로드밸런서**: 트래픽 부하를 고르게 분산
* 데이터베이스 **다중화**
  * master-slave
    * 성능 향상: master는 read-write, slave는 read-only
    * 안정성: 일부가 다운되어도 데이터는 보존됨
    * 가용성: 일부가 다운되어도 서비스 가능
* 웹 서버 + DNS + 데이터베이스 다중화 + 로드밸런서 + **캐시**: 데이터를 메모리에 저장
* 웹 서버 + DNS + 데이터베이스 다중화 + 로드밸런서 + 캐시 + **CDN**: 정적 컨텐츠 전송
* 웹 서버 + DNS + 데이터베이스 다중화 + 로드밸런서 + 캐시 + CDN + **상태 저장소**: 상태 정보를 웹서버에서 분리
* 웹 서버 + DNS + **데이터센터**(데이터베이스 다중화) + 로드밸런서 + 캐시 + CDN + 상태 저장소
* 웹 서버 + DNS + 데이터센터(데이터베이스 다중화) + 로드밸런서 + 캐시 + CDN + 상태 저장소 + **메시지 큐**: 비동기 통신 지원
* 웹 서버 + DNS + 데이터센터(데이터베이스 다중화) + 로드밸런서 + 캐시 + CDN + 상태 저장소 + 메시지 큐 + **로그, 매트릭, 배포 자동화**

1장까지는 이해하기 쉽게 잘 쓰여 있다. 아키텍처 그림도 직관적으로 잘 그려져 있어서 확장에 대한 개념을 익히고 싶을 때 이 장이 최적일 듯 하다. 대규모 트래픽을 다루는 회사에서 일하는건 아니지만 사실 어느정도 연차가 쌓였다보니 대충 머리로만 알고 있던 내용이 이 챕터를 통해 단계별로 딱딱 정리된 느낌이기도 하다.
